## 表层原因
V8最初为浏览器而设计，不太可能遇到用大量内存的场景。

## 深层原因
V8的垃圾回收机制的限制。

按官方的说法，以1.5GB的垃圾回收堆内存为例，V8做一次小的垃圾回收需要50毫秒以上，做一次非增量式的垃圾回收甚至要1秒以上。

## 解决办法

node --max-old-space-size=1700 test.js // 单位为MB

或者

node --max-new-space-size=1024 test.js // 单位为KB

上述参数在V8初始化时生效，一旦生效就不能再动态改变。

https://juejin.cn/post/7054420189193961485